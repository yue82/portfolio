<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="神戸大学情報知能工学科 2015年前期 言語工学 講義ページ">
    <meta name="author" content="Takatori">
    <title>言語工学 - 環境テスト</title>
    <link rel="stylesheet" href="./LE.css">
  </head>

  <body>
    <div id="container">
      <div class="header">
	<h1>言語工学 講義ページ　-2015年度 前期-</h1>
	<a href="./index.html">言語工学top</a> &gt 環境テスト（yacc/bison）
      </div>	

      <div class="main">
	<hr>	

	<div class="menu">
	  <object onload="loads(this, 'menubody')" type="text/html" width="270px" data="menu.html"></object>	
	</div>
	
	<div class="contents">
    <h3>3. 環境テスト</h3>

    <!-- 環境テスト（yacc/bison） -->
    <h4>環境テスト（yacc/bison）</h4>
    <ol>
      <li>
        下記の３つのファイルをダウンロードして，同じディレクトリに置いて下さい．<br>
        　解析対象：
        <a href="./src/if_input.c" target="_blank"><img src="./figs/ico_file2a_4.gif"> if_input.c</a><br>
        　lexプログラム：
        <a href="./src/if.l" target="_blank"><img src="./figs/ico_file2a_4.gif"> if.l</a><br>
        　yaccプログラム：
        <a href="./src/if.y" target="_blank"><img src="./figs/ico_file2a_4.gif"> if.y</a><br>
      </li><br>
      <li>
	lexのプログラムをコンパイルをします．<br>
	<pre class="command">$ flex -l if.l</pre>
	lex.yy.c というファイルが生成されます．<br><br>
      </li>
      <li>
	yaccのプログラムをコンパイルします．<br>
        下記の"yacc"は"bison"に置き換えることもできます．
	<pre class="command">$ yacc -dv -y if.y</pre>
	y.output，y.tab.c，y.tab.h という３つのファイルが生成されます．<br><br>
      </li>
      <li>
        lexとyaccを組み合わせてコンパイルします．<br>
        ＜Macの場合＞
        <pre class="command">$ gcc -m32 -w y.tab.c lex.yy.c</pre>
        ＜Windows / Linuxの場合＞
        <pre class="command">$ gcc -w y.tab.c lex.yy.c</pre>
        a.out または a.exe というファイルが生成されます．
      </li><br>
      <li>
	プログラムを実行して，結果を出力してみます．<br>
	<pre class="command">$ ./a.out &lt if_input.c

      TERM1 -&gt a

      EXPRESSION2 -&gt TERM1 &lt=&gt a

      TERM3 -&gt b

      EXPRESSION4 -&gt EXPRESSION2 &gt TERM3 &lt=&gt a&gtb

      TERM5 -&gt c

      EXPRESSION6 -&gt TERM5 &lt=&gt c

      TERM7 -&gt d

      EXPRESSION8 -&gt EXPRESSION6 = TERM7 &lt=&gt c=d

      STATEMENT9 -&gt EXPRESSION8 &lt=&gt c=d;

      STATEMENT_LIST10 -&gt STATEMENT9 &lt=&gt c=d;

      BLOCK11 -&gt {STATEMENT_LIST10} &lt=&gt {c=d;}

      IF_STATEMTNT -&gt IF (EXPRESSION4) BLOCK11 &lt=&gt if(a&gt;b){c=d;}</pre>
	正しく実行出来れば，上記の出力が得られるはずです．
      </li>
    </ol>
    

	</div>
	
	<hr>
      </div>

      <footer>
	言語工学 2015<br>
	[<a href="http://www.ai.cs.kobe-u.ac.jp/">CS24 上原研究室</a>]
      </footer>
    </div>
    
    <script>
    function loads(obj, id){
      var Height = obj.contentDocument.getElementById(id).offsetHeight;
      obj.style.height = Height + 50 + "px";
    }
    </script>
  </body>
</html>
